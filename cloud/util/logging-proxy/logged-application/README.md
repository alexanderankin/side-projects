todo extract the `LoggedApplication` class to here.
